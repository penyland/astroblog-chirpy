---
import Prose from "../components/Prose.astro";
import RightSidebar from "../components/RightSidebar.astro";
import BaseLayout from "./BaseLayout.astro";

interface Props {
  frontmatter: {
    title: string;
    coverImage: string;
    date: Date;
  };
  headings?: {
    slug: string;
    text: string;
  }[];
}

const { frontmatter, headings } = Astro.props;
---

<BaseLayout pageTitle={frontmatter.title}>
  <div class="max-w-7xl mx-auto flex">
    <article class="flex-1 pr-10">
      <header>
        <img
          class="w-full h-64 object-contain rounded-lg p-8 bg-gray-200"
          src={frontmatter.coverImage}
          alt={frontmatter.title}
        />
        <h1
          class="pt-8 text-2xl sm:text-4xl pb-8 font-bold text-left text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-sky-400"
        >
          {frontmatter.title}
        </h1>
        <p class="dark:text-cyan-500">
          {frontmatter.date.toLocaleDateString()}
        </p>
      </header>
      <div class="mt-12 max-w-4xl">
        <Prose>
          <ul>
            {
              headings?.map((heading) => (
                <li>
                  <a href={`#${heading.slug}`}>{heading.text}</a>
                </li>
              ))
            }
          </ul>
          <slot />
        </Prose>
      </div>
      <div class="mt-12">Tags</div>
      <div class="mt-12">Share</div>
      <div class="mt-12">Prev/Next article</div>
    </article>
    
    <RightSidebar />
  </div>
</BaseLayout>
